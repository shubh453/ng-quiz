<div class="component-container">
  <ng-container *ngIf="!(isQuestionnaireCompleted$ | async);">
    <mat-card *ngIf="(currentQuiz$ | async) as quiz">
      <mat-card-header class="card-header">
        <quiz-timer [info]="timerInfo" (timerComplete)="updateTime($event)" [stop]="stopTimer"></quiz-timer>
        <button class="submit-button" type="submit" mat-raised-button (click)="submitAnswers()">
          Submit
        </button>
      </mat-card-header>
      <mat-card-content>
        <quiz-stepper [clickable]="true" (stepChange)="updateCurrentQuiz($event)" [steps]="(steps$ | async)!">
          <div class="content">
            <quiz-card [quiz]="quiz" [selectedAnswers]="(currentSelectedAnswers$ | async)!"
              (onChoiceMade)="saveAnswer($event)"></quiz-card>
          </div>
        </quiz-stepper>
      </mat-card-content>
    </mat-card>
  </ng-container>
</div>